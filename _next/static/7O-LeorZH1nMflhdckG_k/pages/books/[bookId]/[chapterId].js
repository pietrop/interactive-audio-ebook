(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"4Pnl":function(t,e,r){var n={"./59.json":["CTA4",13]};function s(t){if(!r.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],s=e[0];return r.e(e[1]).then((function(){return r.t(s,3)}))}s.keys=function(){return Object.keys(n)},s.id="4Pnl",t.exports=s},A8pz:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/[bookId]/[chapterId]",function(){return r("UKqy")}])},UKqy:function(t,e,r){"use strict";r.r(e);var n=r("o0o1"),s=r.n(n),o=r("MX0m"),a=r.n(o),c=r("q1tI"),u=r.n(c),i=r("nOHt"),l=(r("XDws"),u.a.createElement),d=function(){var t,e=Object(i.useRouter)().query,n=e.chapterId,o=e.bookId,d=Object(c.useState)(),p=d[0],f=d[1],x=Object(c.useState)(0),w=x[0],b=x[1],m=Object(c.useState)(""),j=m[0],h=m[1],N=Object(c.useRef)();(t=o,s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r("4Pnl")("./".concat(t,".json")).then((function(t){return t.default})));case 1:case"end":return e.stop()}}),null,null,null,Promise)).then((function(t){h(t.title);var e=t.chapters[parseInt(n)-1];f(e)})).catch((function(t){console.error("couldn 't find book id",o)})),Object(c.useEffect)((function(){N&&N.current&&N.current.addEventListener("timeupdate",(function(t){b(t.target.currentTime)}))}),[]);return l(u.a.Fragment,null,l(a.a,{id:"1415230052"},[".words.jsx-4204209160{cursor:pointer;margin-bottom:17px;font-size:17px;line-height:27px;word-wrap:break-word;}",'.words.jsx-4204209160:hover.jsx-4204209160:before{content:"\u25b6";color:#008cba;position:absolute;margin-top:-12px;}',".past-words.jsx-4204209160{color:black;}",".future-words.jsx-4204209160{color:grey;}","audio.jsx-4204209160{position:fixed;bottom:0;left:0px;width:100%;}"]),l(a.a,{id:"2639107941"},[]),l("h2",{className:"jsx-4204209160"},p&&p.title," - ",j&&j,"  ",l("small",{className:"jsx-4204209160 text-muted"}," ",p&&p.duration," ")),l("br",{className:"jsx-4204209160"}),l("br",{className:"jsx-4204209160"}),p&&l("audio",{ref:N,src:p.url,controls:!0,type:p.type,className:"jsx-4204209160"}),l("article",{onClick:function(t){if(t.target.classList.contains("words")){var e=parseFloat(parseFloat(t.target.dataset.start).toFixed(2));console.log("index",e),b(e),N.current.currentTime=e,N.current.play()}},className:"jsx-4204209160"},p&&p.words&&p.words.map((function(t,e){return l("span",{"data-start":t.start,id:e,className:"jsx-4204209160 "+(["words",t.start<=w?"past-words":"future-words"].join(" ")||"")},t.text," ")})),p&&!p.words&&p.text),l("br",{className:"jsx-4204209160"}),l("br",{className:"jsx-4204209160"}),l("br",{className:"jsx-4204209160"}),l("br",{className:"jsx-4204209160"}))};e.default=d,d.getInitialProps=function(t){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),null,null,null,Promise)}},XDws:function(t,e){t.exports=function(t){return.08475+.05379*t.length}}},[["A8pz",0,2,1,4]]]);